[02:24:48] [INFO] === 自动瞄准系统启动脚本 ===
[02:24:48] [INFO] 工作空间: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming
[02:24:48] [INFO] 日志目录: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs
[02:24:48] [INFO] 检查ROS2环境...
[02:24:49] [INFO] 加载工作空间环境...
[02:24:49] [INFO] 开始启动所有节点...
[02:24:49] [INFO] 启动节点: main_controller
[02:24:49] [INFO] 节点 main_controller 已启动，PID: 39732，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/main_controller_02-24-48.log
[02:24:50] [main_controller] [INFO] [1754245490.184980613] [main_controller]: 主控节点初始化完成
[02:24:51] [INFO] 启动节点: target_detect
[02:24:51] [INFO] 节点 target_detect 已启动，PID: 39761，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/target_detect_02-24-48.log
[02:24:52] [INFO] 启动节点: gimbal_controller
[02:24:52] [INFO] 节点 gimbal_controller 已启动，PID: 39807，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/gimbal_controller_02-24-48.log
[02:24:52] [target_detect] [INFO] [1754245492.922085677] [target_detection_service]: Camera resolution set to: 1920x1080
[02:24:52] [target_detect] [INFO] [1754245492.923976814] [target_detection_service]: Target detection started
[02:24:52] [target_detect] [INFO] [1754245492.924452806] [target_detection_service]: Target detection service started
[02:24:53] [gimbal_controller] [INFO] [1754245493.236833618] [gimbal_controller]: 云台控制器节点已启动
[02:24:53] [gimbal_controller] [INFO] [1754245493.237367652] [gimbal_controller]: 图像中心设置为: (480, 360)
[02:24:53] [gimbal_controller] [INFO] [1754245493.237825853] [gimbal_controller]: 激光模式: continuous (auto_off=瞄准后开启, continuous=持续开启)
[02:24:53] [gimbal_controller] [INFO] [1754245493.238274137] [gimbal_controller]: 外部开关: GPIO22 (低电平:关闭激光, 高电平:允许激光)
[02:24:53] [gimbal_controller] [INFO] [1754245493.238747505] [gimbal_controller]: 订阅话题: /target_data
[02:24:53] [gimbal_controller] [INFO] [1754245493.239290288] [gimbal_controller]: 发布话题: /uart1_sender_topic (30Hz)
[02:24:53] [gimbal_controller] [INFO] [1754245493.239717572] [gimbal_controller]: 控制频率: 30Hz
[02:24:54] [INFO] 启动节点: uart1_receiver
[02:24:54] [INFO] 节点 uart1_receiver 已启动，PID: 39848，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/uart1_receiver_02-24-48.log
[02:24:54] [uart1_receiver] [INFO] [1754245494.764136355] [uart1_receiver]: 创建uart1_receiver_topic发布方成功
[02:24:54] [uart1_receiver] [INFO] [1754245494.764982759] [uart1_receiver]: 串口 /dev/ttyS1 已打开
[02:24:54] [uart1_receiver] [INFO] [1754245494.765548000] [uart1_receiver]: uart1_receiver @ /dev/ttyS1 Buad: 115200 init success
[02:24:55] [INFO] 启动节点: uart1_sender
[02:24:55] [INFO] 节点 uart1_sender 已启动，PID: 39871，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/uart1_sender_02-24-48.log
[02:24:56] [uart1_sender] [INFO] [1754245496.314221688] [uart1_sender]: 创建uart1_sender_topic订阅方成功！
[02:24:56] [uart1_sender] [INFO] [1754245496.314793053] [uart1_sender]: uart1_sender @ /dev/ttyS1 Buad: 115200 init success
[02:24:57] [INFO] 启动节点: uart3_sender
[02:24:57] [INFO] 节点 uart3_sender 已启动，PID: 39961，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/uart3_sender_02-24-48.log
[02:24:58] [uart3_sender] [INFO] [1754245498.148590571] [uart3_sender]: 创建uart3_sender_topic订阅方成功！
[02:24:58] [uart3_sender] [INFO] [1754245498.150112172] [uart3_sender]: uart3_sender @ /dev/ttyS3 Buad: 115200 init success
[02:24:58] [INFO] 启动节点: circle_calc_perspective
[02:24:58] [INFO] 节点 circle_calc_perspective 已启动，PID: 39995，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/circle_calc_perspective_02-24-48.log
[02:24:59] [circle_calc_perspective] [INFO] [1754245499.788490305] [circle_point_calculator]: 透视变换圆形采样点计算节点已启动
[02:24:59] [circle_calc_perspective] [INFO] [1754245499.789910408] [circle_point_calculator]: 采样点数量: 600
[02:24:59] [circle_calc_perspective] [INFO] [1754245499.790386692] [circle_point_calculator]: 发布频率: 30.0Hz
[02:24:59] [circle_calc_perspective] [INFO] [1754245499.790814851] [circle_point_calculator]: 订阅话题: /warp_data
[02:24:59] [circle_calc_perspective] [INFO] [1754245499.791242428] [circle_point_calculator]: 发布话题: /draw_circle_date
[02:25:00] [INFO] 所有节点启动完成
[02:25:10] [main_controller] [INFO] [1754245510.324226816] [main_controller]: 收到指令: r40
[02:25:10] [uart3_sender] [INFO] [1754245510.325391714] [uart3_sender]: request to send: task4
[02:25:10] [main_controller] [INFO] [1754245510.324917472] [main_controller]: 已发布任务状态: task4
[02:25:10] [target_detect] [INFO] [1754245510.331033333] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[02:25:10] [main_controller] [INFO] [1754245510.332660807] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[02:25:20] [main_controller] [INFO] [1754245520.219121793] [main_controller]: 收到指令: r40
[02:25:20] [target_detect] [INFO] [1754245520.227006292] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[02:25:20] [main_controller] [INFO] [1754245520.228691807] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[02:25:47] [main_controller] [INFO] [1754245547.352948510] [main_controller]: 收到指令: r40
[02:25:47] [main_controller] [INFO] [1754245547.369505287] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[02:25:47] [target_detect] [INFO] [1754245547.358548129] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[02:26:32] [target_detect] [INFO] [1754245592.964089726] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[02:26:32] [main_controller] [INFO] [1754245592.961902553] [main_controller]: 收到指令: r40
[02:26:32] [main_controller] [INFO] [1754245592.966507021] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[02:26:44] [target_detect] [INFO] [1754245604.718153025] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[02:26:44] [main_controller] [INFO] [1754245604.717038876] [main_controller]: 收到指令: r40
[02:26:44] [main_controller] [INFO] [1754245604.720427113] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[02:26:49] [main_controller] [INFO] [1754245609.108231335] [main_controller]: 收到指令: r40
[02:26:49] [target_detect] [INFO] [1754245609.114450153] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[02:26:49] [main_controller] [INFO] [1754245609.116113209] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[02:26:52] [main_controller] [INFO] [1754245612.304775880] [main_controller]: 收到指令: r40
[02:26:52] [target_detect] [INFO] [1754245612.313596906] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[02:26:52] [main_controller] [INFO] [1754245612.317845255] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[02:27:06] [target_detect] [INFO] [1754245626.660266157] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[02:27:06] [main_controller] [INFO] [1754245626.658894178] [main_controller]: 收到指令: r40
[02:27:06] [main_controller] [INFO] [1754245626.667054888] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[02:27:32] [main_controller] [INFO] [1754245652.254827602] [main_controller]: 收到指令: r41
[02:27:32] [gimbal_controller] [INFO] [1754245652.264274542] [gimbal_controller]: 激光模式服务调用 - 功能已简化为瞄准即开启
[02:27:32] [main_controller] [INFO] [1754245652.256963445] [main_controller]: 扩展任务一，激光开启
[02:27:32] [main_controller] [INFO] [1754245652.272577000] [main_controller]: 激光模式切换成功: continuous - 激光模式已简化为瞄准即开启
[02:27:45] [main_controller] [INFO] [1754245665.331534734] [main_controller]: 收到指令: r50
[02:27:45] [main_controller] [INFO] [1754245665.333992864] [main_controller]: 已发布任务状态: task5
[02:27:45] [uart3_sender] [INFO] [1754245665.332849256] [uart3_sender]: request to send: task5
[02:27:45] [target_detect] [INFO] [1754245665.346802378] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[02:27:45] [main_controller] [INFO] [1754245665.351578639] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[02:27:55] [target_detect] [INFO] [1754245675.249395921] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[02:27:55] [main_controller] [INFO] [1754245675.246061639] [main_controller]: 收到指令: r00
[02:27:55] [uart3_sender] [INFO] [1754245675.249561002] [uart3_sender]: request to send: stopped
[02:27:55] [main_controller] [INFO] [1754245675.248109982] [main_controller]: 收到r00指令，关闭目标检测数据发布
[02:27:55] [main_controller] [INFO] [1754245675.251570555] [main_controller]: 已发布任务状态: stopped
[02:27:55] [main_controller] [INFO] [1754245675.255461329] [main_controller]: 目标检测服务停止成功: 目标数据发布已停止
