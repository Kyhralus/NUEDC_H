[19:45:26] [INFO] === 自动瞄准系统启动脚本 ===
[19:45:26] [INFO] 工作空间: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming
[19:45:26] [INFO] 日志目录: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs
[19:45:26] [INFO] 检查ROS2环境...
[19:45:27] [INFO] 加载工作空间环境...
[19:45:27] [INFO] 开始启动所有节点...
[19:45:27] [INFO] 启动节点: main_controller
[19:45:27] [INFO] 节点 main_controller 已启动，PID: 305463，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/main_controller_19-45-26.log
[19:45:28] [main_controller] [INFO] [1754135128.052884410] [main_controller]: 主控节点初始化完成
[19:45:29] [INFO] 启动节点: target_detect
[19:45:29] [INFO] 节点 target_detect 已启动，PID: 305534，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/target_detect_19-45-26.log
[19:45:30] [target_detect] [INFO] [1754135130.326285187] [target_detection_service]: Camera resolution set to: 1280x1024
[19:45:30] [target_detect] [INFO] [1754135130.329225429] [target_detection_service]: Target detection started
[19:45:30] [target_detect] [INFO] [1754135130.329707838] [target_detection_service]: Target detection service started
[19:45:30] [INFO] 启动节点: gimbal_controller
[19:45:30] [INFO] 节点 gimbal_controller 已启动，PID: 305633，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/gimbal_controller_19-45-26.log
[19:45:31] [gimbal_controller] [INFO] [1754135131.299415242] [gimbal_controller]: 云台控制器节点已启动
[19:45:31] [gimbal_controller] [INFO] [1754135131.300049606] [gimbal_controller]: 图像中心设置为: (480, 360)
[19:45:31] [gimbal_controller] [INFO] [1754135131.300560015] [gimbal_controller]: 激光模式: continuous (auto_off=瞄准后1秒关闭, continuous=持续开启)
[19:45:31] [main_controller] [INFO] [1754135131.318868498] [main_controller]: 收到指令: r00
[19:45:31] [gimbal_controller] [INFO] [1754135131.300975049] [gimbal_controller]: 激光安全开关: GPIO5 (低电平:禁用激光, 高电平:允许激光)
[19:45:31] [main_controller] [INFO] [1754135131.319457364] [main_controller]: 收到r00指令，关闭目标检测数据发布
[19:45:31] [gimbal_controller] [INFO] [1754135131.301446958] [gimbal_controller]: 订阅话题: /target_data
[19:45:31] [main_controller] [INFO] [1754135131.320369390] [main_controller]: 已发布任务状态: stopped
[19:45:31] [gimbal_controller] [INFO] [1754135131.301902825] [gimbal_controller]: 发布话题: /uart1_sender_topic (30Hz)
[19:45:31] [gimbal_controller] [INFO] [1754135131.302339151] [gimbal_controller]: 控制频率: 30Hz
[19:45:31] [target_detect] [INFO] [1754135131.359989015] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:31] [target_detect] [INFO] [1754135131.388660533] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:31] [main_controller] [INFO] [1754135131.389990219] [main_controller]: 目标检测服务停止成功: 目标数据发布已停止
[19:45:31] [main_controller] [INFO] [1754135131.891324999] [main_controller]: 收到指令: r40
[19:45:31] [main_controller] [INFO] [1754135131.892011570] [main_controller]: 已发布任务状态: task4
[19:45:31] [target_detect] [INFO] [1754135131.939432856] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[19:45:31] [main_controller] [INFO] [1754135131.940929081] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[19:45:31] [gimbal_controller] [INFO] [1754135131.972173639] [gimbal_controller]: 目标: (462, 416) | 误差: (+18,+56) | 成功计数:0 | 激光状态:False
[19:45:31] [target_detect] [INFO] [1754135131.978173413] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:31] [gimbal_controller] [WARN] [1754135131.984078106] [gimbal_controller]: 激光总开关已切换到低电平，禁止激光开启
[19:45:32] [INFO] 启动节点: uart1_receiver
[19:45:32] [INFO] 节点 uart1_receiver 已启动，PID: 305693，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/uart1_receiver_19-45-26.log
[19:45:32] [uart1_receiver] [INFO] [1754135132.723844626] [uart1_receiver]: 创建uart1_receiver_topic发布方成功
[19:45:32] [uart1_receiver] [INFO] [1754135132.724659529] [uart1_receiver]: 串口 /dev/ttyS1 已打开
[19:45:32] [uart1_receiver] [INFO] [1754135132.725255977] [uart1_receiver]: uart1_receiver @ /dev/ttyS1 Buad: 115200 init success
[19:45:33] [INFO] 启动节点: uart1_sender
[19:45:33] [INFO] 节点 uart1_sender 已启动，PID: 305754，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/uart1_sender_19-45-26.log
[19:45:33] [uart1_receiver] [INFO] [1754135133.905868961] [uart1_receiver]: 接收数据发布到 uart1_receiver_topic | 数据：r00
[19:45:33] [main_controller] [INFO] [1754135133.907260771] [main_controller]: 收到指令: r00
[19:45:33] [main_controller] [INFO] [1754135133.907827178] [main_controller]: 收到r00指令，关闭目标检测数据发布
[19:45:33] [main_controller] [INFO] [1754135133.909739896] [main_controller]: 已发布任务状态: stopped
[19:45:33] [target_detect] [INFO] [1754135133.986408732] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:34] [main_controller] [INFO] [1754135133.990210834] [main_controller]: 目标检测服务停止成功: 目标数据发布已停止
[19:45:34] [target_detect] [INFO] [1754135134.017999201] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:34] [uart1_sender] [INFO] [1754135134.264289185] [uart1_sender]: 创建uart1_sender_topic订阅方成功！
[19:45:34] [uart1_sender] [INFO] [1754135134.264865800] [uart1_sender]: uart1_sender @ /dev/ttyS1 Buad: 115200 init success
[19:45:34] [gimbal_controller] [INFO] [1754135134.790927955] [gimbal_controller]: 激光总开关已切换到高电平，允许激光开启
[19:45:35] [INFO] 启动节点: uart3_receiver
[19:45:35] [INFO] 节点 uart3_receiver 已启动，PID: 305828，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/uart3_receiver_19-45-26.log
[19:45:35] [uart3_receiver] [INFO] [1754135135.784644081] [uart3_receiver]: 创建uart3_receiver_topic发布方成功
[19:45:35] [uart3_receiver] [INFO] [1754135135.786495258] [uart3_receiver]: 串口 /dev/ttyS3 已打开
[19:45:35] [uart3_receiver] [INFO] [1754135135.787029582] [uart3_receiver]: uart3_receiver @ /dev/ttyS3 Buad: 115200 init success
[19:45:36] [uart1_receiver] [INFO] [1754135136.205945122] [uart1_receiver]: 接收数据发布到 uart1_receiver_topic | 数据：r00
[19:45:36] [main_controller] [INFO] [1754135136.208518162] [main_controller]: 收到指令: r00
[19:45:36] [main_controller] [INFO] [1754135136.209133860] [main_controller]: 收到r00指令，关闭目标检测数据发布
[19:45:36] [target_detect] [INFO] [1754135136.242115848] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:36] [main_controller] [INFO] [1754135136.244274728] [main_controller]: 目标检测服务停止成功: 目标数据发布已停止
[19:45:36] [target_detect] [INFO] [1754135136.270583494] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:36] [uart1_receiver] [INFO] [1754135136.656243176] [uart1_receiver]: 接收数据发布到 uart1_receiver_topic | 数据：r40
[19:45:36] [main_controller] [INFO] [1754135136.658870174] [main_controller]: 收到指令: r40
[19:45:36] [main_controller] [INFO] [1754135136.660488897] [main_controller]: 已发布任务状态: task4
[19:45:36] [target_detect] [INFO] [1754135136.692449776] [target_detection_service]: Received request to start target data publishing: 目标数据发布已启动
[19:45:36] [main_controller] [INFO] [1754135136.696385751] [main_controller]: 目标检测服务启动成功: 目标数据发布已启动
[19:45:36] [target_detect] [INFO] [1754135136.718631961] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:36] [gimbal_controller] [INFO] [1754135136.724645151] [gimbal_controller]: 目标: (462, 415) | 误差: (+18,+55) | 成功计数:0 | 激光状态:False
[19:45:36] [uart1_sender] [INFO] [1754135136.739754397] [uart1_sender]: request to send: @0,18,55
[19:45:36] [INFO] 启动节点: uart3_sender
[19:45:36] [INFO] 节点 uart3_sender 已启动，PID: 305885，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/uart3_sender_19-45-26.log
[19:45:37] [uart3_sender] [INFO] [1754135137.295361597] [uart3_sender]: 创建uart3_sender_topic订阅方成功！
[19:45:37] [uart3_sender] [INFO] [1754135137.295928005] [uart3_sender]: uart3_sender @ /dev/ttyS3 Buad: 115200 init success
[19:45:38] [INFO] 启动节点: circle_calc_perspective
[19:45:38] [INFO] 节点 circle_calc_perspective 已启动，PID: 305952，日志文件: /home/orangepi/ros2_workspace/NUEDC_H/automatic_aiming/logs/circle_calc_perspective_19-45-26.log
[19:45:38] [uart3_sender] [INFO] [1754135138.898326771] [uart3_sender]: request to send: stopped
[19:45:38] [main_controller] [INFO] [1754135138.896251306] [main_controller]: 收到指令: r00
[19:45:38] [uart1_receiver] [INFO] [1754135138.896015352] [uart1_receiver]: 接收数据发布到 uart1_receiver_topic | 数据：r00
[19:45:38] [uart3_sender] [INFO] [1754135138.901651715] [uart3_sender]: request to send: stopped
[19:45:38] [main_controller] [INFO] [1754135138.896781839] [main_controller]: 收到r00指令，关闭目标检测数据发布
[19:45:38] [main_controller] [INFO] [1754135138.901904295] [main_controller]: 已发布任务状态: stopped
[19:45:39] [target_detect] [INFO] [1754135138.999708400] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:39] [main_controller] [INFO] [1754135139.001472079] [main_controller]: 目标检测服务停止成功: 目标数据发布已停止
[19:45:39] [target_detect] [INFO] [1754135139.026706363] [target_detection_service]: Received request to stop target data publishing: 目标数据发布已停止
[19:45:39] [circle_calc_perspective] [INFO] [1754135139.040659170] [circle_point_calculator]: 透视变换圆形采样点计算节点已启动
[19:45:39] [circle_calc_perspective] [INFO] [1754135139.041238702] [circle_point_calculator]: 采样点数量: 600
[19:45:39] [circle_calc_perspective] [INFO] [1754135139.041729569] [circle_point_calculator]: 发布频率: 30.0Hz
[19:45:39] [circle_calc_perspective] [INFO] [1754135139.042179894] [circle_point_calculator]: 订阅话题: /warp_data
[19:45:39] [circle_calc_perspective] [INFO] [1754135139.042592304] [circle_point_calculator]: 发布话题: /draw_circle_date
[19:45:39] [gimbal_controller] [WARN] [1754135139.683975187] [gimbal_controller]: 激光总开关已切换到低电平，禁止激光开启
[19:45:39] [INFO] 所有节点启动完成
[19:46:30] [ERROR] 所有节点已意外退出
[19:46:30] [INFO] 收到退出信号，正在关闭所有节点...
[19:46:32] [INFO] 收到退出信号，正在关闭所有节点...
[19:46:34] [INFO] 所有节点已关闭
[19:46:34] [INFO] 收到退出信号，正在关闭所有节点...
[19:46:36] [INFO] 所有节点已关闭
